cmake_minimum_required(VERSION 3.15)
project(SARibbon)

set(PROJECT_VERSION_MAJOR 0)
set(PROJECT_VERSION_MINOR 0)
set(PROJECT_VERSION_PATCH 1)

set (PROJECT_VERSION "${PROJECT_VERSION_MAJOR}.${PROJECT_VERSION_MINOR}")
if(PROJECT_VERSION_PATCH GREATER 0)
  set (PROJECT_VERSION "${PROJECT_VERSION}.${PROJECT_VERSION_PATCH}")
endif ()

include(CPack)

set(SARIBBON_QT_VERSION 5 CACHE STRING "Expected Qt version")
set_property(CACHE SARIBBON_QT_VERSION PROPERTY STRINGS 5 6)

set(SARIBBON_QT_COMPONENTS Core Widgets GUI)
find_package(Qt${SARIBBON_QT_VERSION} COMPONENTS ${SARIBBON_QT_COMPONENTS} REQUIRED)


include_directories(
    ${Qt${SARIBBON_QT_VERSION}Widgets_INCLUDE_DIRS}
)
    
add_definitions(
    ${Qt${SARIBBON_QT_VERSION}Widgets_DEFINITIONS}
)

option(BUILD_EXAMPLES "build the examples" OFF)
SET(CMAKE_DEBUG_POSTFIX "d" CACHE STRING "add a postfix, usually d on windows")
SET(CMAKE_RELEASE_POSTFIX "" CACHE STRING "add a postfix, usually empty on windows")
SET(CMAKE_RELWITHDEBINFO_POSTFIX "rd" CACHE STRING "add a postfix, usually empty on windows")
SET(CMAKE_MINSIZEREL_POSTFIX "s" CACHE STRING "add a postfix, usually empty on windows")

if(MSVC)
    set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /wd4819")
endif()

add_subdirectory(src)
add_subdirectory(cmake)
